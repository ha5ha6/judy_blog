<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Smartphone Robot Project - Jiexin Wang</title>
<meta name="description" content="an affordable and sustainable robot colony platform based on Android">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Jiexin Wang">
<meta property="og:title" content="Smartphone Robot Project">
<meta property="og:url" content="http://localhost:4000/smartphone/">


  <meta property="og:description" content="an affordable and sustainable robot colony platform based on Android">



  <meta property="og:image" content="http://localhost:4000/assets/images/smartflat.jpg">










<link rel="canonical" href="http://localhost:4000/smartphone/">













<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jiexin Wang Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">Jiexin Wang</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li><li class="masthead__menu-item">
              <a href="/research/" >Research</a>
            </li><li class="masthead__menu-item">
              <a href="/project/" >Project</a>
            </li><li class="masthead__menu-item">
              <a href="/gallery/" >Gallery</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style=" background-image: url('/assets/images/smartflat.jpg');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Smartphone Robot Project

        
      </h1>
      
        <p class="page__lead">an affordable and sustainable robot colony platform based on Android
</p>
      
      
      
      
    </div>
  
  
    <span class="page__hero-caption">Photo credit: J.Wang
</span>
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/head.jpg" alt="Jiexin Wang" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Jiexin Wang</h3>
    
    
      <p class="author__bio" itemprop="description">
        Reinforcement Learning <br /> Mobile & Joint Robots
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://www.google.com/maps/place/Kyoto/@35.0978739,135.4386868,10z/data=!3m1!4b1!4m5!3m4!1s0x6001a8d6cd3cc3f1:0xc0961d366bbb1d3d!8m2!3d35.011564!4d135.7681489" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> Kyoto, JP</a></li>
          
        
          
            <li><a href="https://mail.google.com/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> superheartheart<br />(at)gmail.com</a></li>
          
        
          
            <li><a href="https://www.researchgate.net/profile/Jiexin_Wang" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> ResearchGate</a></li>
          
        
          
            <li><a href="https://github.com/ha5ha6" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/jiexin-wang-54b66591/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Smartphone Robot Project">
    <meta itemprop="description" content="an affordable and sustainable robot colony platform based on Android">
    
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <h2 id="motivation">Motivation</h2>

<p>Common robotic platforms which can facilitate researches by quick introduction at low cost and by sharing and comparison of programs are highly in demand for robotics and artificial intelligence society. Humanoid robots like NAO and iCub, small-sized robot like Khepera, e-puck and AIBO etc are the best examples. However, they are either too expensive, hard to maintain or equipped with limited sensor and low computational power.</p>

<p>Recent smartphone carries various features for constructing a robot, including</p>
<ul>
  <li>a high-performance energy-efficient CPU</li>
  <li>versatile sensors such as cameras, gyroscope, accelerometers, GPS, audio, etc</li>
  <li>wireless communications</li>
  <li>open source software developing environment</li>
</ul>

<p>By connecting actuators along with micro controller chips such as <strong>Arduino, Rasberry PI and IOIO board</strong> to the smartphone, we can construct a smartphone based robotic platform. Compared to traditional robots which require sophisticated structure design and time-consuming manufacture, smartphone based robots are more compact, handy, effortless to replicate for not only research teams but novice developers.</p>

<h2 id="a-balancer-with-elastic-bumper">A balancer with elastic bumper</h2>

<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/phy.jpg" alt="" height="50%" width="50%" /></p>

<p><strong>Figure 1</strong> - Physical model of spring-attached wheeled inverted pendulum</p>

<p>For a single agent, we consider a two-wheel balancer with elastic bumpers illustrated as a spring-attached wheeled inverted pendulum model. Balancing robot provides lively impression than quasi-static movements of tricycle or four-wheel robots. With the help of the attached bumpers, the robot can recover to the origin and preserve energy.</p>

<h2 id="behaviors">Behaviors</h2>
<p>The one more degree of freedom enables various <strong>basic behaviors</strong> such as</p>

<ul>
  <li>standing-up</li>
  <li>balancing</li>
  <li>approaching</li>
</ul>

<p>and facilitating <strong>high-level integrated behaviors</strong> such as</p>

<ul>
  <li>foraging</li>
  <li>mating</li>
  <li>collision avoidance</li>
</ul>

<p>This bottom-up behavioral structure corresponds to the emergence of natural behaviors from biological creatures.
Under the framework of basic dynamics, it is fertile to test and develop control and learning algorithms.
Under the higher level behavioral domain, it is primed for revealing the insights of learning and evolution.</p>

<h2 id="construction">Construction</h2>
<h3 id="chassis">Chassis</h3>
<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/stablefront.png" alt="" width="25%" />
<img src="https://ha5ha6.github.io/judy_blog/assets/images/stableback.png" alt="" width="26%" /></p>

<p><strong>Figure 2</strong> - Chassis design for stable versions</p>

<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/balancer.jpg" alt="" width="40%" /></p>

<p><strong>Figure 3</strong> - Chassis design for elastic balancer version</p>

<p>To customize the chassis, we need</p>
<ul>
  <li>3D printer, i.e. Ultimaker 2</li>
  <li>AutoCAD</li>
  <li>CURA</li>
</ul>

<p>Our latest design supports both two versions of a stable runner by sliding in two holders under the battery container and a spring-attached balancer.</p>

<h3 id="hardware">Hardware</h3>
<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/connection.jpg" alt="" width="70%" /></p>

<p><strong>Figure 4</strong> - Hardware connection</p>

<p>The hardware components we need are</p>
<ul>
  <li>smartphone, i.e. Nexus 4</li>
  <li>micro controller, i.e. <a href="https://github.com/ytai/ioio">IOIO board</a></li>
  <li>connect break-out board</li>
  <li>motor, motor driver, and rotary encoder, i.e. <a href="http://www.creative-robotics.com/About-HUBee-Wheels">HUB-ee wheel</a> {out of stock}</li>
  <li>USB cables</li>
  <li>chargeable battery set</li>
</ul>

<h3 id="software">Software</h3>
<p>The behaviors are achieved by <strong>an Android app</strong>. Specifically, we use</p>
<ul>
  <li>developing language: JAVA</li>
  <li>environment: Android Studio, Android SDK, IOIO Library, OpenCV</li>
</ul>

<p>and the sensor we need are</p>
<ul>
  <li>accelerometer (20ms) and Gyroscope (1.3ms) from Smartphone</li>
  <li>rotary encoder from the wheel</li>
</ul>

<p>We use three threads under the Android environment as shown in <strong>Figure 5</strong>:</p>
<ul>
  <li>UI thread (Main Thread)</li>
  <li>sensor thread (5ms)</li>
  <li>control/IOIO thread (1ms)</li>
</ul>

<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/thread.jpg" alt="" width="60%" /></p>

<p><strong>Figure 5</strong> - Threading</p>

<h2 id="control-architecture">Control Architecture</h2>

<p><img src="https://ha5ha6.github.io/judy_blog/assets/images/control.jpg" alt="" width="60%" /></p>

<p><strong>Figure 6</strong> - Control Architecture</p>

<p>To achieve standing-up and balancing behavior, we adopt a switch control architecture. That is when the balancer body is inside a threshold angle i.e. upright positions, linear stablizer is activated. Otherwise, a Centeral Pattern Generator (CPG) is applied for distabilizing the dynamics.</p>

<p>The state inputs are body angle and angular velocity obtained from the acc and gyro sensor fusion, wheel rotating angle and angular velocity obtained from the wheel rotary encoder.</p>

<p>The control parameters are 4d control gain <strong>K</strong>, and 2d CPG parameter <img src="https://latex.codecogs.com/svg.latex?\Large&space;\{\omega, \beta\}" />.</p>

<p>The control output is the command value range [-1000,1000] to the wheel pulse.</p>

<h2 id="the-learned-behaviors">The Learned Behaviors</h2>

<p>We achieved several basic behaviors and high-level behaviors.</p>

<p>Firstly, we handtuned the control parameters and achieved the <strong>standing-up and balancing behaviors</strong> in simulation <a href="https://ci.nii.ac.jp/naid/110009903423">[NLP 2013]</a> and hardware <a href="">[RSJ 2014]</a>.</p>

<p>Then we used the method proposed in <a href="https://ha5ha6.github.io/judy_blog/ephe/">Policy hyper-parameter search</a> for the robot to learn the optimal parameters instead of handtuning. The <strong>standing-up and balancing behaviors</strong> achieved in simulation <a href="https://link.springer.com/article/10.1007/s10015-015-0260-7?wt_mc=internal.event.1.SEM.ArticleAuthorOnlineFirst">[ArtificialLife 2016]</a> and hardware <a href="https://www.frontiersin.org/articles/10.3389/fnbot.2017.00001/full">[Frontier 2017]</a>.</p>

<p>We further achieved <strong>a vison-based approaching behavior</strong> in hardware <a href="https://www.frontiersin.org/articles/10.3389/fnbot.2017.00001/full">[Frontier 2017]</a>.</p>

<p>The video is showing the above behaviors.</p>

<!-- Courtesy of embedresponsively.com //-->
<div class="responsive-video-container">

  <iframe src="https://www.youtube-nocookie.com/embed/fjo-EqM2ESg" frameborder="0" allowfullscreen=""></iframe>

</div>

<p>Finally, we achieved <strong>vision-based foraging and mating behaviors</strong> in hardware <a href="https://www.researchgate.net/publication/329903880_EM-based_policy_search_for_learning_foraging_and_mating_behaviors">[ROBOMECH 2018]</a>.</p>

<!-- Courtesy of embedresponsively.com //-->
<div class="responsive-video-container">

  <iframe src="https://www.youtube-nocookie.com/embed/jRxHXm95dEs" frameborder="0" allowfullscreen=""></iframe>

</div>

<!-- Courtesy of embedresponsively.com //-->
<div class="responsive-video-container">

  <iframe src="https://www.youtube-nocookie.com/embed/clxiPNR0v9g" frameborder="0" allowfullscreen=""></iframe>

</div>

<p>In short,</p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Standing-up and balancing (simulation) [NLP 2013] [ArtificialLife 2016]</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Standing-up and balancing (hardware) [RSJ 2014] [Frontier 2017]</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Approaching (hardware) [Frontier 2017]</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Foraging (hardware) [ROBOMECH 2018]</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Mating, one agent is fixed (hardware) [ROBOMECH 2018]</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Multi-agent Mating</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Collision avoidance</li>
</ul>

<h2 id="related-papers">Related Papers:</h2>

<ul>
  <li>
    <p><span style="font-family:Serif; font-size:0.95em;"> J. Wang, E. Uchibe, and K. Doya. Standing-up and balancing behaviors of Android phone robot: Control of spring-attached wheeled inverted pendulum.  <br /> <em>IEICE technical report. Nonlinear problems.</em> 113(341), 49-54, Hongkong, China. 2013 (NLP)  <br /> <a href="https://ci.nii.ac.jp/naid/110009903423">[website]</a></span></p>
  </li>
  <li>
    <p><span style="font-family:Serif; font-size:0.95em;"> J. Wang, E. Uchibe, and K. Doya. Control of Two-wheel balancing and standing-up behaviors by an Android phone robot.  <br /> <em>In Proceedings of the 32nd Annual Conference of the Robotics Society of Japan.</em> Sangyo University, Fukuoka, Japan. 2014 (RSJ)
 <br /> <a href="http://rsj2014.rsj-web.org/">[website]</a></span></p>
  </li>
  <li>
    <p><span style="font-family:Serif; font-size:0.95em;"> J. Wang, E. Uchibe, and K. Doya. EM-based policy hyper parameter exploration: Application to standing and balancing of a two-wheeled smartphone robot.  <br /> <em>Artificial Life and Robotics.</em> 21: 125. DOI 10.1007/s10015-015-0260-7. 2016 <br /> <a href="https://link.springer.com/article/10.1007/s10015-015-0260-7?wt_mc=internal.event.1.SEM.ArticleAuthorOnlineFirst">[website]</a> <a href="https://www.researchgate.net/publication/291951786_EM-based_policy_hyper_parameter_exploration_application_to_standing_and_balancing_of_a_two-wheeled_smartphone_robot">[researchgate]</a> <a href="https://link.springer.com/content/pdf/10.1007%2Fs10015-015-0260-7.pdf">[pdf]</a></span></p>
  </li>
  <li>
    <p><span style="font-family:Serif; font-size:0.95em;"> J. Wang, E. Uchibe, and K. Doya. Adaptive baseline enhances EM-based policy search: Validation in a view-based positioning task of a smartphone balancer. <br /> <em>Frontiers in Neurorobotics.</em> 11:1. DOI 10.3389/fnbot.2017.00001. 2017 <br /> <a href="https://www.frontiersin.org/articles/10.3389/fnbot.2017.00001/full">[website]</a> <a href="https://www.researchgate.net/publication/312643347_Adaptive_Baseline_Enhances_EM-Based_Policy_Search_Validation_in_a_View-Based_Positioning_Task_of_a_Smartphone_Balancer">[researchgate]</a> <a href="https://www.frontiersin.org/articles/10.3389/fnbot.2017.00001/pdf">[pdf]</a></span></p>
  </li>
  <li>
    <p><span style="font-family:Serif; font-size:0.95em;"> E. Uchibe and J. Wang. EM-based policy search for learning foraging and mating behaviors. <br /> <em>In proceedings of the 30th robotics and mechatronics conference.</em> Kitakyushu, Japan. 2018 (ROBOMECH)
 <br /> <a href="http://robomech.org/2018/">[website]</a> <a href="https://www.researchgate.net/publication/329903880_EM-based_policy_search_for_learning_foraging_and_mating_behaviors">[researchgate]</a> <a href="https://www.researchgate.net/profile/Jiexin_Wang/publication/329903880_EM-based_policy_search_for_learning_foraging_and_mating_behaviors/links/5d15b14b458515c11cfdb24f/EM-based-policy-search-for-learning-foraging-and-mating-behaviors.pdf?_sg%5B0%5D=h86Gu74WmWFjMTGmMrda0Z7XLEO8MUMfqLd4Jhh1w3-94S75JIcv_B3-lKnGns_MEQuyH8S2_PTJENx96AW4rQ.yzFo2VVAfRDu5-zsKOOEFQM5RQ5CF5gTlreYBhtPCQUSDkIuc2ir2dJ2qcqwN7k7kvV3SopL8hxfE9CHkJVCVg&amp;_sg%5B1%5D=5eL6DWKeAwrgt8LaQ2panNSE5fr-68O8x8bRRNMJSUiUGuI_OgxYbC1RP4PxUgn4a9uGV65uSabvq4m4lfp5YGcIw2xbZa2JKKhKTd7U7pL-.yzFo2VVAfRDu5-zsKOOEFQM5RQ5CF5gTlreYBhtPCQUSDkIuc2ir2dJ2qcqwN7k7kvV3SopL8hxfE9CHkJVCVg&amp;_iepl=">[pdf]</a></span></p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="search" id="search" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Jiexin Wang. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
